# ============================================
# Turbotic Automation AI - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values
# For production, use .env.production or your deployment platform's environment variable settings

# ============================================
# MANDATORY - Core Configuration
# ============================================

# MongoDB Database Connection
# Format: mongodb://[username:password@]host[:port][/database][?options]
# Example: mongodb://localhost:27017/example
# For MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/database
MONGO_URI=mongodb://localhost:27017/example

# JWT Secret Key for Authentication
# Generate a secure random string (minimum 32 characters recommended)
# You can generate one using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-secret-key-change-this-in-production

# Encryption Key for Sensitive Data
# Must be at least 32 characters long
# Generate one using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-32-byte-encryption-key-here-change-this

# RabbitMQ Message Queue Endpoint
# Format: amqp://[username:password@]host[:port]
# Example: amqp://guest:guest@localhost:5672
# For Docker: amqp://user:password@localhost:5672
RABBIT_MQ_ENDPOINT=amqp://guest:guest@localhost:5672

# Application Base URL
# Used for OAuth callbacks, email links, and API endpoints
# Development: http://localhost:3000
# Production: https://your-domain.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# OPTIONAL - AI Services
# ============================================

# Perplexity API Key (for web search functionality)
# Get your API key from: https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=

# Azure OpenAI Configuration (Alternative to OpenAI)
# Get these from your Azure OpenAI resource in Azure Portal
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_API_INSTANCE_NAME=
AZURE_OPENAI_API_DEPLOYMENT_NAME=gpt-4
AZURE_OPENAI_API_VERSION=2025-01-01-preview

# Azure OpenAI Vision Deployment (optional, for image analysis)
AZURE_OPENAI_VISION_DEPLOYMENT_NAME=

# Azure OpenAI Embedding Deployment (optional, for vector search)
AZURE_OPENAI_API_DEPLOYMENT_NAME_EMBEDDING=
AZURE_OPENAI_API_VERSION_EMBEDDING=2025-01-01-preview

# OpenAI API Key (Alternative to Azure OpenAI)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# ============================================
# OPTIONAL - Email Services
# ============================================

# Option 1: Azure Communication Services (Recommended)
# Get connection string from Azure Portal > Communication Services > Keys
AZURE_COMMUNICATION_CONNECTION_STRING=
AZURE_COMMUNICATION_FROM_EMAIL=noreply@your-domain.com

# Option 2: SendGrid (Alternative)
# Get API key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@your-domain.com

# Note: Configure at least one email service for password reset and notifications

# Support and Contact Email Addresses
# Email address for support requests and notifications
SUPPORT_EMAIL=support@your-domain.com
# Public support email (shown in UI, defaults to SUPPORT_EMAIL)
NEXT_PUBLIC_SUPPORT_EMAIL=
# Email address for feature notification requests (optional, defaults to SUPPORT_EMAIL)
NOTIFICATION_EMAIL=
# Public notification email (for frontend, defaults to SUPPORT_EMAIL)
NEXT_PUBLIC_NOTIFICATION_EMAIL=
# Email address for API-triggered automations (optional, defaults to 'api@your-domain.com')
API_USER_EMAIL=api@your-domain.com
# Public contact email (for general inquiries, defaults to SUPPORT_EMAIL)
NEXT_PUBLIC_CONTACT_EMAIL=

# ============================================
# OPTIONAL - Third-Party Integrations
# ============================================

# GitHub Integration (for repository access)
# Create OAuth app at: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Microsoft Integrations (Outlook, Teams, Calendar, etc.)
# Create app at: https://portal.azure.com > Azure Active Directory > App registrations
# For Outlook:
MICROSOFT_OUTLOOK_CLIENT_ID=
MICROSOFT_OUTLOOK_CLIENT_SECRET=

# For Teams:
MICROSOFT_TEAMS_CLIENT_ID=
MICROSOFT_TEAMS_CLIENT_SECRET=

# For Calendar:
MICROSOFT_CALENDAR_CLIENT_ID=
MICROSOFT_CALENDAR_CLIENT_SECRET=

# For OneDrive:
MICROSOFT_ONEDRIVE_CLIENT_ID=
MICROSOFT_ONEDRIVE_CLIENT_SECRET=

# Fallback (if app-specific credentials not set):
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=

# ============================================
# OPTIONAL - Script Runner Configuration
# ============================================

# Script Runner Endpoint
# Used by the app to communicate with the script-runner service
# Development: http://localhost:3000
# Production: https://your-domain.com
AUTOMATIONAI_ENDPOINT=http://localhost:3000

# ============================================
# OPTIONAL - WebSocket Configuration
# ============================================

# WebSocket URL for real-time updates
# If not set, will be derived from NEXT_PUBLIC_APP_URL
NEXT_PUBLIC_SOCKET_URL=ws://localhost:3001

# Socket Base URL (for script-runner communication)
SOCKET_BASE_URL=http://localhost:3001
NEXT_PUBLIC_SOCKET_BASE_URL=http://localhost:3001

# ============================================
# OPTIONAL - Queue Configuration
# ============================================

# Custom queue name for scheduler (default: scheduler-queue)
SCHEDULE_QUEUE=scheduler-queue

# ============================================
# OPTIONAL - Analytics & Tracking
# ============================================

# Google Analytics Measurement ID
# Format: G-XXXXXXXXXX
# Get from: https://analytics.google.com > Admin > Data Streams
NEXT_PUBLIC_GA_MEASUREMENT_ID=

# Google Analytics Debug Mode (set to 'true' to enable)
NEXT_PUBLIC_GA_DEBUG=false

# ============================================
# OPTIONAL - Development & Testing
# ============================================

# Node Environment
# Options: development, production, test
NODE_ENV=development

# Environment Type (for testing)
ENVIRONMENT=development

# Public Hostname (for production deployments)
PUBLIC_HOSTNAME=

# App Protocol (http or https)
NEXT_PUBLIC_APP_PROTOCOL=http

# ============================================
# OPTIONAL - External API Configuration
# ============================================

# External API URL (if using external services)
TURBOTIC_API_URL=
NEXT_PUBLIC_TURBOTIC_API_URL=

# Realtime Server URLs
REALTIME_SERVER_URL=
NEXT_PUBLIC_REALTIME_SERVER_URL=
REALTIME_SERVER_URL_TEST=
NEXT_PUBLIC_REALTIME_SERVER_URL_TEST=

# Test Environment Host Pattern (for detecting test environments)
# Example: '-test.' will match 'app-test.example.com'
NEXT_PUBLIC_TEST_HOST_PATTERN=-test.

# MongoDB Database Names (if different from MONGO_URI)
MONGODB_DATABASE_NAME=
MONGODB_DATABASE_NAME_PROD=
MONGODB_DATABASE_NAME_TEST=

# Azure OpenAI Responses Endpoint (if using custom endpoint)
AZURE_OPENAI_RESPONSES_ENDPOINT=

# Notification Allowed Hosts (comma-separated, format: "host1:public,host2:private")
# Example: "linkedin.com:public,github.com:public,reddit.com:private"
NOTIFICATION_ALLOWED_HOSTS=

# Default public host for notifications (used as fallback)
NOTIFICATION_DEFAULT_PUBLIC_HOST=linkedin.com

# AppScan Allowed Hosts (comma-separated)
APPSCAN_ALLOWED_HOSTS=

# ============================================
# OPTIONAL - Kubernetes/Production (if deploying to K8s)
# ============================================

# Automation Runner Docker Image
# Replace with your own Docker registry and image name
# Example: your-registry.azurecr.io/your-script-runner:latest
# Or use a public registry: docker.io/your-org/script-runner:latest
AUTOMATION_RUNNER_IMAGE=your-registry.azurecr.io/automationai-script-runner:latest

# ============================================
# NOTES
# ============================================
# 1. Never commit .env.local or .env files to version control
# 2. For production, use secure secret management (Azure Key Vault, AWS Secrets Manager, etc.)
# 3. Generate strong secrets using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# 4. Minimum requirements to run the app:
#    - MONGO_URI
#    - JWT_SECRET
#    - ENCRYPTION_KEY
#    - RABBIT_MQ_ENDPOINT
#    - NEXT_PUBLIC_APP_URL
# 5. For full functionality, also configure:
#    - At least one AI service (Perplexity, Azure OpenAI, or OpenAI)
#    - At least one email service (Azure Communication Services or SendGrid)
# 6. Integrations (GitHub, Microsoft) are optional but enhance functionality

