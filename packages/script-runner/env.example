# ============================================
# Turbotic Script Runner - Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# The script-runner is a service that executes automations in isolated environments

# ============================================
# MANDATORY - Core Configuration
# ============================================

# Automation ID
# The unique identifier of the automation to execute
# This is typically provided by the main application when triggering an execution
AUTOMATION_ID=

# Execution ID
# The unique identifier for this specific execution instance
# This is typically provided by the main application when triggering an execution
EXECUTION_ID=

# RabbitMQ Message Queue Endpoint
# Format: amqp://[username:password@]host[:port]
# Example: amqp://guest:guest@localhost:5672
# For Docker: amqp://user:password@localhost:5672
# Must match the RABBIT_MQ_ENDPOINT in the main app configuration
RABBIT_MQ_ENDPOINT=amqp://guest:guest@localhost:5672

# Automation AI Endpoint
# The base URL of the main Turbotic Automation AI application
# Used for API calls to fetch automation code, upload logs, screenshots, etc.
# Development: http://localhost:3000
# Production: https://your-domain.com
# Must match the NEXT_PUBLIC_APP_URL in the main app configuration
AUTOMATIONAI_ENDPOINT=http://localhost:3000

# ============================================
# OPTIONAL - Runtime Configuration
# ============================================

# Disable Auto Shutdown
# Set to 'true' to prevent the script-runner from automatically shutting down
# after 2 minutes of inactivity
# Default: false (auto-shutdown enabled)
# Useful for development and debugging
DISABLE_AUTOSHUTDOWN=false

# Enable Vector Search
# Set to 'true' to enable vector search functionality in automations
# Default: false
# Requires vector database configuration in the main app
ENABLE_VECTOR_SEARCH=false

# ============================================
# NOTES
# ============================================
# 1. The script-runner is typically started by the main application or a scheduler
# 2. AUTOMATION_ID and EXECUTION_ID are usually provided dynamically when starting the runner
# 3. For local development, you can set these manually for testing:
#    - AUTOMATION_ID=your-automation-id-here
#    - EXECUTION_ID=your-execution-id-here
# 4. The script-runner communicates with the main app via:
#    - RabbitMQ for receiving execution commands
#    - HTTP API calls to AUTOMATIONAI_ENDPOINT for:
#      * Fetching automation code
#      * Uploading logs and execution status
#      * Uploading screenshots
#      * Downloading files from environment variables
#      * Calling AI services (OpenAI, Perplexity, etc.)
#      * Sending emails
#      * Microsoft Graph API integration
# 5. For production deployments (Kubernetes, Docker), these values are typically
#    injected via environment variables or config maps
# 6. The script-runner creates isolated execution environments in the 'run' directory
#    Each automation gets its own subdirectory: run/{AUTOMATION_ID}/

